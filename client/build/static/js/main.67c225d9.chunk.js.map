{"version":3,"sources":["Http/api.js","actions/userActions.js","actions/actionTypes.js","reducers/userReducer.js","components/SearchBar/SearchBar.jsx","components/SearchBar/index.js","App.jsx","middlewares/socketMiddleware.js","reducers/index.js","store.js","index.jsx"],"names":["text","a","fetch","json","q","searchVideoSuggestions","searchYoutubeVideos","setLoadingVideos","loading","type","setSuggestedVideos","suggestedVideos","setVideos","videos","getSuggestedVideos","query","dispatch","api","initialState","isLogged","name","urlVideo","loadingVideos","readUrlVideo","state","userReducer","readLoadingVideos","readSuggestedVideos","readVideos","reducer","action","url","Video","title","urlThumbnail","changeVideo","className","alt","onClick","src","SearchBar","connect","videosSuggested","setUrlVideo","getVideos","callback","searched","refResultVideos","useRef","id","Autocomplete","onChange","_","current","scrollIntoView","behavior","style","width","maxWidth","options","renderInput","params","target","value","placeholder","noOptionsText","CircularProgress","marginLeft","size","height","controls","ref","map","video","key","App","console","log","process","io","path","socketMiddleware","store","next","combineReducers","composeFunction","compose","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.67c225d9.chunk.js","sourcesContent":["async function searchVideoSuggestions(text) {\r\n    return await (await fetch(`/search/autocomplete/${text}`)).json();\r\n}\r\n\r\nasync function searchYoutubeVideos(q) {\r\n    return await (await fetch(`/youtube/${q}`)).json();\r\n}\r\n\r\nexport default {\r\n    searchVideoSuggestions,\r\n    searchYoutubeVideos\r\n}","import { SET_LOADING_VIDEOS, SET_VIDEOS, SET_SUGGESTED_VIDEOS, SET_URL_VIDEO } from './actionTypes';\r\nimport api from '../Http/api';\r\n\r\nexport const setUrlVideo = (url) => ({\r\n    type: SET_URL_VIDEO,\r\n    url,\r\n});\r\n\r\nexport const setLoadingVideos = (loading) => ({\r\n    type: SET_LOADING_VIDEOS,\r\n    loading,\r\n});\r\n\r\nconst setSuggestedVideos = (suggestedVideos) => ({\r\n    type: SET_SUGGESTED_VIDEOS,\r\n    suggestedVideos,\r\n});\r\n\r\nconst setVideos = (videos) => ({\r\n    type: SET_VIDEOS,\r\n    videos,\r\n});\r\n\r\nexport const getSuggestedVideos = (query) => async (dispatch) => {\r\n    if (!query) {\r\n        dispatch(setSuggestedVideos([]));\r\n        return;\r\n    }\r\n    const suggestedVideos = await api.searchVideoSuggestions(query);\r\n    dispatch(setSuggestedVideos([...suggestedVideos]));\r\n};\r\n\r\nexport const getVideos = (searched, callback) => async (dispatch) => {\r\n    dispatch(setLoadingVideos(true));\r\n    dispatch(getSuggestedVideos(searched));\r\n    const videos = await api.searchYoutubeVideos(searched);\r\n    dispatch(setVideos(videos));\r\n    callback();\r\n    dispatch(setLoadingVideos(false));\r\n};\r\n","export const SET_NAME = 'SET_NAME';\r\nexport const SET_IS_LOGGED = 'SET_IS_LOGGED';\r\nexport const SET_URL_VIDEO = 'SET_URL_VIDEO';\r\nexport const SET_SUGGESTED_VIDEOS = 'SET_SUGGESTED_VIDEOS';\r\nexport const SET_VIDEOS = 'SET_VIDEOS';\r\nexport const SET_LOADING_VIDEOS = 'SET_LOADING_VIDEOS';\r\n","import {\r\n    SET_IS_LOGGED,\r\n    SET_NAME,\r\n    SET_SUGGESTED_VIDEOS,\r\n    SET_LOADING_VIDEOS,\r\n    SET_VIDEOS,\r\n    SET_URL_VIDEO,\r\n} from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    isLogged: false,\r\n    name: '',\r\n    urlVideo: 'https://www.youtube.com/watch?v=A1xEete-zHM',\r\n    loadingVideos: false,\r\n    suggestedVideos: [],\r\n    videos: []\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_IS_LOGGED: {\r\n            return { ...state, isLogged: action.isLogged };\r\n        }\r\n        case SET_NAME:\r\n            return { ...state, name: action.name };\r\n        case SET_VIDEOS:\r\n            return { ...state, videos: action.videos };\r\n        case SET_LOADING_VIDEOS:\r\n            return { ...state, loadingVideos: action.loading };\r\n        case SET_SUGGESTED_VIDEOS:\r\n            return { ...state, suggestedVideos: action.suggestedVideos };\r\n        case SET_URL_VIDEO:\r\n            return { ...state, urlVideo: action.url };\r\n        default: {\r\n            return { ...state };\r\n        }\r\n    }\r\n};\r\n\r\nexport const readUser = (state) => ({ ...state.userReducer });\r\nexport const readName = (state) => state.userReducer.name;\r\nexport const readIsLogged = (state) => state.userReducer.isLogged;\r\nexport const readUrlVideo = (state) => state.userReducer.urlVideo;\r\nexport const readLoadingVideos = (state) => state.userReducer.loadingVideos;\r\nexport const readSuggestedVideos = (state) => state.userReducer.suggestedVideos;\r\nexport const readVideos = (state) => state.userReducer.videos;\r\n\r\nexport default reducer;\r\n","import React, { useRef } from 'react';\r\nimport Input from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport ReactPlayer from 'react-player';\r\nimport { connect } from 'react-redux';\r\nimport { setUrlVideo, getSuggestedVideos, getVideos } from '../../actions/userActions';\r\nimport { readLoadingVideos, readUrlVideo, readSuggestedVideos, readVideos } from '../../reducers/userReducer';\r\nimport './searchBar.scss';\r\n\r\nconst Video = ({ title, urlThumbnail, url, changeVideo }) => (\r\n    <div className=\"video\">\r\n        <div className=\"top\">\r\n            <img alt=\"Thumbnail\" onClick={() => changeVideo(`https://youtube.com${url}`)} src={urlThumbnail}/>\r\n        </div>\r\n        <div className=\"bottom\">\r\n            <p className=\"title\">{title}</p>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst SearchBar = ({ loading, urlVideo, videosSuggested, videos, getVideos, getSuggestedVideos, setUrlVideo }) => {\r\n\r\n    const refResultVideos = useRef();\r\n\r\n    const scrollTo = (ref) => ref.current.scrollIntoView({ behavior: 'smooth' });\r\n\r\n    return (\r\n        <div id=\"wrapVideoPlayer\">\r\n            <div className=\"wrapSearchBar\">\r\n                <Autocomplete\r\n                    onChange={(_, searched) => getVideos(searched, () => scrollTo(refResultVideos))}\r\n                    style={{ width: '70%', maxWidth: 350 }}\r\n                    options={videosSuggested}\r\n                    renderInput={(params) => (\r\n                        <Input \r\n                            {...params} \r\n                            onChange={({ target }) => getSuggestedVideos(target.value)} \r\n                            id=\"search\" \r\n                            placeholder=\"Search a video\" \r\n                        />\r\n                    )}\r\n                    noOptionsText=\"No results\"\r\n                />\r\n                {loading ? <CircularProgress style={{marginLeft: '30px'}} size={30} /> : null}\r\n            </div>\r\n            <div className=\"reactPlayer\">\r\n                <ReactPlayer width=\"100%\" height=\"100%\" controls={true} url={urlVideo} />\r\n            </div>\r\n            <div ref={refResultVideos} className=\"videosContainer\">\r\n                {videos.map(video => <Video key={video.url} changeVideo={setUrlVideo} {...video} />)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    urlVideo: readUrlVideo(state),\r\n    loading: readLoadingVideos(state),\r\n    videosSuggested: readSuggestedVideos(state),\r\n    videos: readVideos(state),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setUrlVideo: (url) => dispatch(setUrlVideo(url)),\r\n    getVideos: (query, callback) => dispatch(getVideos(query, callback)),\r\n    getSuggestedVideos: (query) => dispatch(getSuggestedVideos(query)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchBar);\r\n","import SearchBar from './SearchBar';\r\n\r\nexport default SearchBar;\r\n","/* eslint linebreak-style: [\"error\", \"unix\"] */\nimport React from 'react';\nimport SearchBar from './components/SearchBar';\nimport './app.scss';\n\nconst App = () => (\n    <div id=\"mainContent\">\n        <header>\n            <nav />\n        </header>\n        <main>\n            <SearchBar />\n        </main>\n    </div>\n);\n\nexport default App;\n","import io from 'socket.io-client';\r\n\r\nconst isDev = process.env.NODE_ENV == 'development';\r\nconsole.log('dev', isDev)\r\n\r\nconst socket = isDev \r\n    ? io.connect('http://localhost:5000', { path: '/socket-io' })\r\n    : io.connect({ path: '/socket-io' });\r\n\r\nconst socketMiddleware = store => next => action => {\r\n    console.log('action', action);\r\n\r\n    next(action);\r\n}\r\n\r\nexport default socketMiddleware;","import { combineReducers } from 'redux';\r\nimport userReducer from './userReducer';\r\n\r\nexport default combineReducers({ userReducer });\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport socketMiddleware from './middlewares/socketMiddleware';\r\nimport rootReducer from './reducers';\r\n\r\nconst composeFunction = process.env.NODE_ENV  === 'development'\r\n    ? composeWithDevTools\r\n    : compose;\r\n\r\nconst store = createStore(rootReducer, {}, composeFunction(applyMiddleware(thunk, socketMiddleware)));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}